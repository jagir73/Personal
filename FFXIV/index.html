<!DOCTYPE html> 
<html>
 <head>
	<title>FFXIV timer</title>
	<link rel="shortcut icon" href="images/favicon.png" type="image/png" />
	<link rel="stylesheet" href="../style.css" type="text/css">
	<link rel="stylesheet" href="../menu/menu.css" type="text/css">
 </head>
 <script>
	 //Despawn time and BTN pop times aren't correct.
 
	//11minutes 39.6 seconds in between each spawn. = 696seconds.
	//Need just one exact time(with exact seconds) to find out the others.
	var BTNtimes = new Array(1376812860, 1376813556, 1376814252, 1376814948, 1376815644, 1376816340);
	//1hour 10minutes between pops.
	var delay = 4200;
	
	var MINtimes = new Array(1376812860, 1376813556, 1376814252, 1376814948, 1376816340);
	
	var despawnTime = 300;
	
	function updaterTimers()
	{
		var currentTime = new Date()
		//BTN
		for (i=0;i<BTNtimes.length;i++)
		{
			var timeLeft = Math.ceil(currentTime.getTime()/1000) - BTNtimes[i];
			timeLeft = delay - timeLeft%delay;
			var minutes = Math.floor(timeLeft/60);
			var seconds = timeLeft%60;
			var str = "";
			if(minutes < 10)
				str += "0" + minutes;
			else if(minutes == 0)
				str += "00";
			else 
				str += minutes;
				
			str += ":"
			
			if(seconds < 10)
				str += "0" + seconds;
			else if(seconds == 0)
				str += "00";
			else 
				str += seconds;
				
			
			if(timeLeft >= delay - despawnTime)
			{
				var timePreDespawn = despawnTime - (delay - timeLeft);
				minutes = Math.floor(timePreDespawn/60);
				seconds = timePreDespawn%60;
				str += " Despawn in : ";
				
				if(minutes < 10)
					str += "0" + minutes;
				else if(minutes == 0)
					str += "00";
				else 
					str += minutes;
					
				str += ":"
				
				if(seconds < 10)
					str += "0" + seconds;
				else if(seconds == 0)
					str += "00";
				else 
					str += seconds;
					
				var GP = (Math.floor(timePreDespawn/3))*5;
				
				str += "[GP"+GP+"]";
			}
			
			document.getElementById("timerBTN" + i).innerHTML = str;
		}
		
		//MIN
		for (i=0;i<MINtimes.length;i++)
		{
			var timeLeft = Math.ceil(currentTime.getTime()/1000) - MINtimes[i];
			timeLeft = delay - timeLeft%delay;
			var minutes = Math.floor(timeLeft/60);
			var seconds = timeLeft%60;
			var str = "";
			
			if(minutes < 10)
				str += "0" + minutes;
			else if(minutes == 0)
				str += "00";
			else 
				str += minutes;
				
			str += ":"
			
			if(seconds < 10)
				str += "0" + seconds;
			else if(seconds == 0)
				str += "00";
			else 
				str += seconds;
				
			if(timeLeft >= delay - despawnTime)
			{
				var timePreDespawn = despawnTime - (delay - timeLeft);
				minutes = Math.floor(timePreDespawn/60);
				seconds = timePreDespawn%60;
				str += " Despawn in : ";
				
				if(minutes < 10)
					str += "0" + minutes;
				else if(minutes == 0)
					str += "00";
				else 
					str += minutes;
					
				str += ":"
				
				if(seconds < 10)
					str += "0" + seconds;
				else if(seconds == 0)
					str += "00";
				else 
					str += seconds;
					
				var GP = (Math.floor(timePreDespawn/3))*5;
				
				str += "[GP"+GP+"]";
			}
			
			document.getElementById("timerMIN" + i).innerHTML = str;
		}
	}
	
	setInterval(function() { updaterTimers(); }, 1000);
	
	//var temp = new Date("August 18, 2013 4:36:00").getTime()/1000;
	//document.write(temp);
	
 </script>
<body>
<div>
	<img id="background" src="../backgrounds/FFXIV.jpg" alt="background" title="background"/>
</div>

<div id="sideMenu">
	
	<a href="http://www.jasmingiroux.com"><img id="profilepic" src="../menu/menu.jpg" alt="profile picture"/></a>

	<script language="javascript" src="../menu/menu.js" type="text/javascript"></script>
</div>
<div id="scroller">
	<h1>Jasmingiroux.com</h1>
	<div id="content">
		<p>
			Botanist <br />
			
			Trilium Bulb/Kidragora  [East Shroud - Nine Ivies]	<br />
			<span id="timerBTN0">time </span> <br />
			Crawler Cocoon[East Shroud - Nine Ivies] <br />
			<span id="timerBTN1">time </span> <br />
			Trilium[East Shroud] | Honey Lemon[Eastern La Noscea] <br />
			<span id="timerBTN2">time </span> <br />
			Spruce Log[Coertas - Dragonhead] | Prickly pineapple[Eastern La Noscea]	<br />
			<span id="timerBTN3">time </span> <br />
			Vampire Plant[Coertas - Dragonhead] <br />
			<span id="timerBTN4">time </span> <br />
			Thavnairian Mistletoe[Coertas - Dragonhead] <br />
			<span id="timerBTN5">time </span> <br />
			
		</p>
		
		<p>
			Miner <br />
			
			Astral Rock   [Coertas - Dragonhead] <br />
			<span id="timerMIN0">time </span> <br />
			Darksteel Ore [Coertas - Dragonhead] <br />
			<span id="timerMIN1">time </span> <br />
			Gold Sand     [Eastern Thanalan - Drybone]<br />
			<span id="timerMIN2">time </span> <br />
			Gold Ore      [Eastern Thanalan - Drybone]<br />
			<span id="timerMIN3">time </span> <br />
			Volcanic Rock Salt [Eastern La Noscea]<br />
			<span id="timerMIN4">time </span>
			
		</p>
		
		
	</div>
</div>
</body>	
</html>